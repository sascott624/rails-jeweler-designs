<%= render 'layouts/messages' %>

<h1>Stone Details</h1>

<ul>
  <li class="stoneName">Name: <%= @stone.name %></li>
  <li class="stoneWeight">Weight: <%= @stone.weight%> ct </li>
  <li class="stoneCost">Cost: $<%= @stone.cost %> </li>
</ul>

<a href="#" class="js-previous" data-id="<%=@stone.id%>">Previous</a>

<a href="#" class="js-next" data-id="<%=@stone.id%>">Next</a>


<!-- <% if current_page?(stone_path(@stone)) && current_user %>
  <h3><em>Add a new design:</em></h3>

  <%= form_for @stone.designs.build do |f| %>
    <%= f.hidden_field :user_id, value: current_user.id %>
    <%= f.hidden_field :stone_id, value: @stone.id %>

    <%= f.label :metal %><br>
    <%= f.collection_select :metal, ["White Gold", "Yellow Gold", "Pink Gold", "Platinum", "Sterling Silver"], :to_s, :to_s %><br><br>

    <%= f.label :model %><br>
    <%= f.collection_select :model, ["Necklace", "Bracelet", "Earrings", "Ring"], :to_s, :to_s %><br><br>

    <%= f.submit %>
  <% end %>
<% end %> -->

<script type="text/javascript" charset="utf-8">
  $('.js-next').on("click", function(e){
    e.preventDefault();
    var nextId = parseInt($('.js-next').attr("data-id")) + 1;
    $.get("/stones/" + nextId + ".json", function(data){
      $('.stoneName').text("Name: " + data["name"]);
      $('.stoneWeight').text("Weight: " + data["weight"] + " ct");
      $('.stoneCost').text("Cost: $" + data["cost"]);
      $('.js-next').attr("data-id", data["id"]);
    })
  })
</script>

<script type="text/javascript" charset="utf-8">
  $('.js-previous').on("click", function(e){
    e.preventDefault();
    var nextId = parseInt($('.js-next').attr("data-id")) - 1;
    $.get("/stones/" + nextId + ".json", function(data){
      $('.stoneName').text("Name: " + data["name"]);
      $('.stoneWeight').text("Weight: " + data["weight"] + " ct");
      $('.stoneCost').text("Cost: $" + data["cost"]);
      $('.js-previous').attr("data-id", data["id"]);
    })
  })
</script>
